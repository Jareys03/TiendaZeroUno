<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="${pedido.id} != null ? 'Editar pedido' : 'Nuevo pedido'">Pedido - TiendaZeroUno</title>

  <!-- Usar CDN de Bootstrap (evita peticiones a /webjars si no están disponibles) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link rel="icon" type="image/png" th:href="@{/img/logo.png}"/>

</head>
<body class="app-wrapper">

<main class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="app-main-card">

        <div class="app-main-header mb-3">
          <div>
            <h1 class="h3 app-title mb-0" th:text="${pedido.id} != null ? '✏ Editar pedido' : '➕ Nuevo pedido'">Nuevo pedido</h1>
            <small class="text-muted">Completa los datos del pedido</small>
          </div>
          <div>
            <a th:href="@{/pedidos}" class="link-back">← Volver a pedidos</a>
          </div>
        </div>

        <hr class="mb-4"/>

        <div class="card form-card">
          <div class="card-body">

            <form th:action="${pedido.id} != null ? @{'/pedidos/actualizar/' + ${pedido.id}} : @{/pedidos}"
                  th:object="${pedido}"
                  method="post">

              <input type="hidden" th:field="*{id}" />

              <div class="mb-3">
                <label for="numero" class="form-label">Número de pedido</label>
                <input id="numero" type="text" class="form-control" th:field="*{numero}" placeholder="Ej: PED-2025-001" required />
                <div class="form-text">Usa un prefijo claro (ej. PED-)</div>
              </div>

              <div class="mb-4">
                <label for="total" class="form-label">Total (€)</label>
                <input id="total" type="number" step="0.01" min="0" class="form-control" th:field="*{total}" placeholder="0.00" required />
              </div>

              <div class="d-flex justify-content-end gap-2">
                <a th:href="@{/pedidos}" class="btn btn-outline-secondary">Cancelar</a>
                <button type="submit" class="btn btn-main">Guardar</button>
              </div>

            </form>

          </div>
        </div>

      </div>
    </div>
  </div>
</main>

<footer class="app-footer text-center py-3">TiendaZeroUno · Panel interno de ejemplo</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
